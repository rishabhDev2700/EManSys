{%extends 'admin_view/base.html'%}
{%block title%}Dashboard{%endblock%}
{%block content%}
<div class="container bg-light py-5">
    <h2 class="h2 bg-success p-5 border border-secondary border-5" style="color:white;">Dashboard</h2>
    <div class="container">
        <a href="{%url 'dashboard'%}" class="btn btn-success m-1 p-5 my-5 py-5">Total Users: {{users.count}}</a>
        <a href="{%url 'departments'%}" class="btn btn-warning m-1 p-5 my-5 py-5">Total Departments:
            {{departments.count}}</a>
        <a href="{%url 'pay_grades'%}" class="btn btn-primary m-1 p-5 my-5 py-5">Total Pay Grades:
            {{pay_grades.count}}</a>
        <a class="btn btn-secondary p-1 mx-5">
            <div class="card bg-light" style="color:grey">
                <div class="card-header">Currently Logged-in User:</div>
                <div class="card-body">
                    <div class="subtitle">First Name: {{user.first_name}}</div>
                    <div class="subtitle">Last Name: {{user.last_name}}</div>
                    <div class="subtitle">Username: {{user.username}}</div>
                </div>
            </div>
        </a>
    </div>
    <div class="h2 mx-auto">Users</div>
    <table class="table">
        <thead>
        <tr>
            <th scope="col">ID</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Role</th>
            <th scope="col">Department</th>
        </tr>
        </thead>
        {%for user in users%}
        <tbody>

        <tr>
            <th scope="row">{{user.id}}</th>
            <td>{{user.first_name}}</td>
            <td>{{user.last_name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.role}}</td>
            <td>{{user.department}}</td>
            <td><a href="{%url 'delete_user' user.id %}" class="btn btn-danger my-0 px-2">Delete</a></td>
            <td><a href="{%url 'update_user' user.id %}" class="btn btn-info my-0 px-2">Update</a></td>
        </tr>

        </tbody>
        {%endfor%}
    </table>
</div>
{%endblock%}